@using HwProj.Models.ViewModels
@model PullRequestCreateViewModel

@using (Ajax.BeginForm("Create", "PullRequest",
        new AjaxOptions { UpdateTargetId = "homework_create" }, new { @class = "jumbotron grey lighten-5 pt-5", @id = "login-form", role = "form" }))
{
    var repos = new SelectList(ViewBag.Repos as IEnumerable<string>);
    <div class="form-group">
        @Html.DropDownListFor(model => model.RepositoryName, repos, "Выберите репозиторий", new { @class = "form-control", @onchange = "FillBranch()" })
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.HeadBranchName, "Откуда")
        @Html.DropDownListFor(model => model.HeadBranchName, new SelectList(Enumerable.Empty<SelectListItem>()), "Выберите ветку", new { @class = "form-control" })
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.HeadBranchName, "Куда")
        @Html.DropDownListFor(model => model.BaseBranchName, new SelectList(Enumerable.Empty<SelectListItem>()), "Выберите ветку", new { @class = "form-control" })
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.Title, "Название")
        @Html.TextBoxFor(m => m.Title, new { @class = "form-control", placeholder = Html.DisplayNameFor(m => m.Title) })
    </div>
    <div class="form-group">
        <button class="btn btn-block btn-primary" type="submit">Создать pull request</button>
    </div>
}
